{"version":3,"sources":["webpack:///src/page/login/register.vue","webpack:///./src/page/login/register.vue?37d5","webpack:///./src/page/login/register.vue"],"names":["register","data","_this","this","phone","logining","verifCodeImg","thisCode","loginForm","user","pwd","verifCode","loginRules","required","trigger","validator","rule","value","callback","test","Error","length","mounted","getVerifcode","methods","onSubmit","_this2","$refs","validate","valid","$store","dispatch","then","res","code","$message","success","msg","isLoginFlag","_this3","img","$emit","login_register","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","autoComplete","model","rules","label-position","_v","_s","$t","prop","name","placeholder","$$v","$set","expression","type","domProps","innerHTML","on","click","directives","rawName","nativeOn","$event","preventDefault","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.da2b084044ce33988129.js","sourcesContent":["<template>\n    <div class=\"register\">\n        <el-form class=\"login-form\" autoComplete=\"on\" ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-position=\"left\">\n            <div class=\"login-container\">\n                <h3 class=\"title\">{{$t('register.title')}}</h3>\n            </div>\n            <el-form-item prop=\"user\">\n               <el-input\n                    name=\"username\"\n                    placeholder=\"请输入手机号\"\n                    v-model=\"loginForm.user\"\n                    autoComplete=\"on\"\n                    >\n                    <!-- clearable 清除输入框内容 -->\n                </el-input>\n            </el-form-item>\n            <el-form-item prop=\"pwd\">\n                 <el-input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"请输入密码\"\n                    v-model=\"loginForm.pwd\"\n                    autoComplete=\"off\"\n                    >\n                </el-input>\n            </el-form-item>\n            <el-form-item prop=\"verifCode\">\n               <el-input\n                    class=\"input-code\"\n                    type=\"text\"\n                    name=\"verifCode\"\n                    placeholder=\"请输入验证码\"\n                    v-model=\"loginForm.verifCode\"\n                    autoComplete=\"off\"\n                    >\n                </el-input>\n              <div class=\"set-verif\" v-html=\"verifCodeImg\" @click=\"getVerifcode\">\n              </div>\n                <div @click=\"isLoginFlag\" class=\"set-cur\">\n                  <el-tag type=\"warning\">{{$t('login.login')}}</el-tag>\n                </div>\n            </el-form-item>\n            <!-- .native.prevent -->\n            <el-button class=\"login-submit\" type=\"primary\" @click.native.prevent=\"onSubmit\" v-loading=\"logining\">{{$t('register.btn')}}</el-button>\n        </el-form>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n      const phone = /^[1][3,4,5,7,8,9][0-9]{9}$/\n      /* 自定义表单校验 */\n      const validUsername1 = (rule, value, callback) => {\n        if (!value) {\n            callback(new Error('请输入手机号'))\n        }else if (!phone.test(value)){\n            callback(new Error('请输入正确的手机号'))\n        }else {\n            callback()\n        }\n      }\n      const validPassword1 = (rule, value, callback) => {\n          if (value.length < 6) {\n            callback(new Error('密码不能小于6位'))\n          } else {\n            callback()\n          }\n      }\n      const validVerif = (rule, value, callback) => {\n        if (!value) {\n          callback(new Error('请输入验证码'))\n        }else if(value != this.thisCode ) {\n          callback(new Error('验证码错误'))\n        }else {\n          callback()\n        }\n      }\n    return {\n        logining: false,\n        verifCodeImg: '',\n        thisCode: '',\n        loginForm: {\n            user: '',\n            pwd: '',\n            verifCode: ''\n        },\n        // 登录校验\n        loginRules: {\n            user: [{ required: true, trigger: 'blur', validator: validUsername1 }],\n            pwd: [{ required: true, trigger: 'blur', validator: validPassword1 }],\n            verifCode: [{ required: true, trigger: 'blur', validator: validVerif }]\n        }\n    }\n  },\n  mounted() {\n    this.getVerifcode()\n  },\n  methods: {\n    onSubmit() {\n      \n      this.$refs.loginForm.validate(valid => {\n         if (valid) {\n             this.logining = true\n             this.$store.dispatch('registerInfo', this.loginForm).then(res=> {\n               if (res.code == 0) {\n                 this.$message.success(res.msg)\n                 this.isLoginFlag()\n               }\n                 this.logining = false\n             })\n         }else {\n             return false\n         }\n      })\n    },\n    // 获取验证码\n    getVerifcode() {\n      this.$store.dispatch('getVerifcode').then(res=> {\n        this.verifCodeImg = res.img\n        this.thisCode = res.code\n      })\n    },\n    isLoginFlag () {\n      this.$emit('success', false)\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.register {\n    height: 100%;\n    width: 100%;\n    background: url('../../assets/img/login.jpg') 0 0/100% 100% no-repeat;\n}\n.login-form {\n    position: absolute;\n    left: 0;\n    right: 0;\n    width: 400px;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n    background: #fff;\n    .login-container {\n        position: relative;\n        .title {\n            font-size: 26px;\n            color: #000;\n            margin: 0px auto 40px auto;\n            text-align: center;\n            font-weight: bold;\n        }\n        .set-lang {\n            color: #fff;\n            position: absolute;\n            top: 5px;\n            right: 0px;\n        }\n    }\n    .login-submit {\n        width: 100%;\n        margin-top: 35px;\n    }\n    .set-verif {\n      display: inline-block;\n      height: 36px;\n      cursor: pointer;\n      vertical-align: top;\n    }\n    .input-code {\n      width: 150px;\n    }\n    .set-cur {\n      cursor: pointer;\n    }\n    .el-tag--medium {\n      position: absolute;\n      top:4px;\n      right: 0;\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/login/register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"autoComplete\":\"on\",\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-position\":\"left\"}},[_c('div',{staticClass:\"login-container\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('register.title')))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"user\"}},[_c('el-input',{attrs:{\"name\":\"username\",\"placeholder\":\"请输入手机号\",\"autoComplete\":\"on\"},model:{value:(_vm.loginForm.user),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user\", $$v)},expression:\"loginForm.user\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"请输入密码\",\"autoComplete\":\"off\"},model:{value:(_vm.loginForm.pwd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"pwd\", $$v)},expression:\"loginForm.pwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"verifCode\"}},[_c('el-input',{staticClass:\"input-code\",attrs:{\"type\":\"text\",\"name\":\"verifCode\",\"placeholder\":\"请输入验证码\",\"autoComplete\":\"off\"},model:{value:(_vm.loginForm.verifCode),callback:function ($$v) {_vm.$set(_vm.loginForm, \"verifCode\", $$v)},expression:\"loginForm.verifCode\"}}),_vm._v(\" \"),_c('div',{staticClass:\"set-verif\",domProps:{\"innerHTML\":_vm._s(_vm.verifCodeImg)},on:{\"click\":_vm.getVerifcode}}),_vm._v(\" \"),_c('div',{staticClass:\"set-cur\",on:{\"click\":_vm.isLoginFlag}},[_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(_vm.$t('login.login')))])],1)],1),_vm._v(\" \"),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.logining),expression:\"logining\"}],staticClass:\"login-submit\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_vm._v(_vm._s(_vm.$t('register.btn')))])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-12806a9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/login/register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12806a9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12806a9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12806a9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/login/register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}